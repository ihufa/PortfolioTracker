(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(t,e,a){},249:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),l=a(72),o=a.n(l),s=(a(84),a(23)),c=a.n(s),i=a(77),u=a(73),p=a(4),h=a(5),m=a(7),d=a(6),f=a(8),k=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).handleChangeTick=function(t){a.setState({ticker:t.target.value})},a.handleChangeVolume=function(t){a.setState({volume:t.target.value})},a.submitHandler=function(t){t.preventDefault(),""!==a.state.ticker&&a.props.addStock(a.state)},a.updateHandler=function(t){t.preventDefault(),a.props.updateStocks()},a.addFive=function(t){t.preventDefault(),a.setState({stocks:[{ticker:"TSLA"},{ticker:"AAPL"},{ticker:"GOOGL"},{ticker:"AMZN"},{ticker:"M&M"}]}),a.props.addFive()},a.state={ticker:"",volume:0},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"stockadder"},n.a.createElement("h2",null,"Watchlist"),n.a.createElement("form",null,n.a.createElement("input",{type:"text",onChange:this.handleChangeTick,placeholder:"Add up to 5 assets...",id:"stockticker"}),n.a.createElement("button",{className:"fromBtn Btn",type:"submit",onClick:this.submitHandler},"Add"),n.a.createElement("button",{className:"fromBtn Btn",onClick:this.addFive},"Im feeling lucky"),n.a.createElement("br",null),this.props.stocks.length>0?n.a.createElement("button",{className:"startsimBtnReady Btn",onClick:this.updateHandler},"Start simulator"):n.a.createElement("button",{className:"startsimBtnNo"},"Start simulator")))}}]),e}(r.Component),E=a(78),v=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).handleChange=function(t){a.setState({volume:t.target.value,ticker:a.props.ticker,timeOfPurchase:a.props.time,price:a.props.price,currentPrice:a.props.price,currentTime:a.props.price})},a.handleBuy=function(t){t.preventDefault(),a.state.volume>0&&a.props.handleBuy(a.state),a.props.modalOK()},a.handleClose=function(t){t.preventDefault(),console.log(t.target),"modal"!==t.target.className&&a.props.handleClose()},a.state={volume:0,timeOfPurchase:0,price:0,currentPrice:0},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this.handleClose,style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.5)"}},n.a.createElement("div",{className:"modal",style:{backgroundColor:"#fff",width:"70%",height:150,margin:"auto",marginTop:250,position:"relative"}},n.a.createElement("h3",{className:"modal"},this.props.modalMessage),n.a.createElement("form",{className:"modal",style:{}},n.a.createElement("span",null,this.props.ticker),n.a.createElement("input",{className:"modal",onChange:this.handleChange,type:"number",placeholder:"Volume"})," ",n.a.createElement("span",{className:"modal"},Math.round(this.props.price*this.state.volume),"$"),n.a.createElement("button",{className:"modal",onClick:this.handleBuy},"Buy"))))}}]),e}(r.Component),g=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).deleteHandler=function(t){t.preventDefault(),a.props.deleteStock(t.target.id)},a.showGraphHandler=function(t){t.preventDefault(),console.log(t.target.name),a.props.showGraph(t.target.name)},a.buyHandler=function(t){t.preventDefault(),a.setState(Object(E.a)({},a.state,{showBuyModal:!a.state.showBuyModal,ticker:t.target.name}))},a.modalOK=function(){a.setState({showBuyModal:!1})},a.state={ticker:"",volume:0,showBuyModal:!1},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this;return this.state.showBuyModal?n.a.createElement(v,{modalMessage:"Enter Volume",ticker:this.state.ticker,price:this.props.watchlist[this.props.watchlist.findIndex(function(e){return e.ticker===t.state.ticker})].prices[99],time:this.props.watchlist[this.props.watchlist.findIndex(function(e){return e.ticker===t.state.ticker})].times[99],handleBuy:this.props.handleBuy,modalOK:this.modalOK,updatePortfolioData:this.props.updatePortfolioData,handleClose:this.modalOK}):0!==Object.keys(void 0!==this.props.watchlist[0]&&this.props.watchlist[0]).length?n.a.createElement("div",null,n.a.createElement("h2",null,"Watchlist"),n.a.createElement("table",{className:"watchlist"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Stock ticker:"),n.a.createElement("th",null,"Price:"))),n.a.createElement("tbody",null,this.props.watchlist.map(function(e){return n.a.createElement("tr",{key:e.ticker,name:e.ticker,onMouseOver:t.showGraphHandler},n.a.createElement("td",{name:e.ticker,className:"ticker"},e.ticker),n.a.createElement("td",{className:"price",name:e.ticker},"$",e.prices[e.prices.length-1]),n.a.createElement("td",null,n.a.createElement("button",{className:"Btn",name:e.ticker,onClick:t.buyHandler},"Buy")))})))):this.props.stocks.length>0?n.a.createElement("div",null,n.a.createElement("table",{className:"watchlist"},n.a.createElement("tbody",null,this.props.stocks.map(function(e){return n.a.createElement("tr",{key:e.ticker},n.a.createElement("td",{className:"ticker"},e.ticker),n.a.createElement("td",null,n.a.createElement("button",{className:"Btn",id:e.ticker,onClick:t.deleteHandler},"Remove from list")))})))):null}}]),e}(r.Component),b=a(74),y=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={finalGraphData:{labels:[],datasets:[{label:"Portfolio",data:[]}]}},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){if(0!==Object.keys(void 0!==this.props.graphData&&this.props.graphData).length){var t={labels:this.props.graphData.times,datasets:[{label:this.props.graphData.ticker,data:this.props.graphData.prices}]};return n.a.createElement(b.a,{data:t,options:{title:{display:this.props.graphData.ticker,text:this.props.graphData.ticker,fontSize:25},legend:{display:"display",position:"position"}}})}return null}}]),e}(r.Component),O=a(76),w=a.n(O),S=(a(246),function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).sellHandler=function(t){t.preventDefault(),a.props.sellStock(t.target.id)},a.state={ticker:"",volume:0},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this,e={color:"#28af16"};return this.props.portfolio.length>0?n.a.createElement("div",{className:"watchlist-wrap"},n.a.createElement("h2",null,"Portfolio"),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Purchased(EST)"),n.a.createElement("th",null,"Stock"),n.a.createElement("th",null,"Volume"),n.a.createElement("th",null,"Purchase Price"),n.a.createElement("th",null,"Current Price"),n.a.createElement("th",null,"Value")," ",n.a.createElement("th",null,"yield %")," ",n.a.createElement("th",null,"yield $"))),n.a.createElement("tbody",null,this.props.portfolio.map(function(a){return n.a.createElement("tr",{key:a.ticker},n.a.createElement("td",null,a.timeOfPurchase),n.a.createElement("td",null,a.ticker),n.a.createElement("td",null,a.volume),n.a.createElement("td",null,"$",a.price),n.a.createElement("td",null,"$",a.currentPrice),n.a.createElement("td",null,"$",Math.round(100*a.currentPrice*a.volume)/100),n.a.createElement("td",{id:"results1"},"%",Math.round(1e4*(a.currentPrice/a.price-1))/100),n.a.createElement("td",{style:e,id:"results2"},"$",Math.round(100*(a.currentPrice*a.volume-a.price*a.volume))/100),n.a.createElement("td",null,n.a.createElement("button",{className:"Btn",id:a.ticker,onClick:t.sellHandler},"Sell")))}))),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("h2",null,"Portfolio Summary"),n.a.createElement("tr",null,n.a.createElement("th",null,"$ Invested"),n.a.createElement("th",null,"Current Value"),n.a.createElement("th",null,"yield %"),n.a.createElement("th",null,"yield $"))))):n.a.createElement("div",{className:"watchlist-wrap"},n.a.createElement("h2",null,"Portfolio is empty"))}}]),e}(r.Component)),D=function(t){function e(){var t,a;Object(p.a)(this,e);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(n)))).handleClose=function(t){t.preventDefault(),console.log(t.target),"modal"!==t.target.className&&a.props.handleClose()},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this.handleClose,style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.5)"}},n.a.createElement("div",{className:"modal",style:{backgroundColor:"#fff",width:"70%",height:150,margin:"auto",marginTop:250,position:"relative"}},n.a.createElement("h3",{className:"modal"},this.props.modalMessage,n.a.createElement("span",null,n.a.createElement("button",{onClick:this.handleClose},"X")))))}}]),e}(r.Component),C=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).errorClose=function(){a.setState({showError:!1})},a.deleteStock=function(t){a.setState({stocks:a.state.stocks.filter(function(e){return e.ticker!==t})})},a.addStock=function(t){a.state.stocks.length<5?a.setState({stocks:a.state.stocks.concat(t)}):alert("Maximum portfoliosize is 5")},a.addFive=function(){a.setState({stocks:[{ticker:"TSLA"},{ticker:"AAPL"},{ticker:"GOOGL"},{ticker:"AMZN"},{ticker:"M&M"}]})},a.showGraph=function(t){void 0!==t&&a.setState({stockDisplay:a.state.graphData.findIndex(function(e){return e.ticker===t})})},a.compare=function(t,e){return t.ticker<e.ticker?-1:t.ticker>e.ticker?1:0},a.handleBuy=function(t){var e=a.state.portfolio.concat(t);e.sort(a.compare);for(var r=[],n=0;n<e.length;n++)for(var l=0;l<a.state.graphData.length;l++)e[n].ticker===a.state.graphData[l].ticker&&r.push(l);a.setState({portfolio:e,portfolioIndexes:r}),setTimeout(a.updatePortfolioData,1e3)},a.sellStock=function(t){console.log(t)},a.updatePortfolioData=function(){if(a.state.portfolio.length>0){for(var t=[],e=[],r=function(e){t[e]={pricesProd:a.state.graphData[a.state.portfolioIndexes[e]].prices.map(function(t){return t*a.state.portfolio[e].volume}),times:a.state.graphData[a.state.portfolioIndexes[e]].times}},n=0;n<a.state.portfolioIndexes.length;n++)r(n);for(n=0;n<t[0].pricesProd.length;n++){for(var l=0,o=0;o<a.state.portfolio.length;o++)l+=t[o].pricesProd[n];e.push(l)}a.setState({portfolioData:{prices:e,times:t[0].times,ticker:"Portfolio"}})}setInterval(a.updatePortfolioData,64e3)},a.updateStocks=Object(u.a)(c.a.mark(function t(){var e,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.apiSummary=[],a.setState({showStockadder:!1,apiData:[],graphData:[{}]}),"RNMW9AOG5O5M2LRV",e=c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=".concat(a.state.stocks[e].ticker,"&interval=1min&apikey=").concat("RNMW9AOG5O5M2LRV")).then(function(t){for(var r=[],n=Object.keys(t.data["Time Series (1min)"]).reverse(),l=0;l<n.length;l++)r=r.concat(Math.round(1e3*parseFloat(t.data["Time Series (1min)"][n[l]]["4. close"]))/1e3);a.apiSummary.push({times:n,prices:r,volume:a.state.stocks[e].volume,ticker:a.state.stocks[e].ticker})}).catch(function(t){a.setState({showError:"too many api requests! this api-key supports up to 5 per minute",stocks:[],showStockadder:!0})});case 2:case"end":return t.stop()}},t,this)}),r=0;case 5:if(!(r<a.state.stocks.length)){t.next=10;break}return t.delegateYield(e(r),"t0",7);case 7:r++,t.next=5;break;case 10:a.setState({graphData:a.apiSummary}),a.state.graphData.length>0&&function(){for(var t=Object(i.a)(a.state.portfolio),e=function(e){t[e].currentPrice=a.state.graphData[a.state.graphData.findIndex(function(a){return a.ticker===t[e].ticker})].prices[99]},r=0;r<a.state.portfolio.length;r++)e(r);a.setState({portfolio:t})}(),setInterval(a.updateStocks,64e3);case 13:case"end":return t.stop()}},t,this)})),a.apiSummary=[],a.state={apiData:[],stocks:[],graphData:[{}],stockDisplay:0,portfolio:[],portfolioData:[],portfolioIndexes:[],showStockadder:!0,showError:!1},a}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"page-container"},this.state.showError&&n.a.createElement(D,{modalMessage:this.state.showError,handleClose:this.errorClose}),n.a.createElement("h1",null,n.a.createElement("span",null,"PORTFOLIO")," TRACKER"),n.a.createElement("div",{className:"list-and-graph-wrap"},n.a.createElement("div",{className:"watchlist-wrap"},this.state.showStockadder&&n.a.createElement(k,{stocks:this.state.stocks,addFive:this.addFive,addStock:this.addStock,updateStocks:this.updateStocks}),n.a.createElement(g,{stocks:this.state.stocks,watchlist:this.state.graphData,deleteStock:this.deleteStock,showGraph:this.showGraph,handleBuy:this.handleBuy,updatePortfolioData:this.updatePortfolioData})),n.a.createElement("div",{className:"chart"},n.a.createElement(y,{graphData:this.state.graphData[this.state.stockDisplay]}))),n.a.createElement("div",{className:"list-and-graph-wrap"},n.a.createElement("div",null,n.a.createElement(S,{portfolio:this.state.portfolio,graphData:this.state.graphData,sellStock:this.sellStock})),n.a.createElement("div",{className:"chart"},n.a.createElement(y,{graphData:this.state.portfolioData}))))}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},79:function(t,e,a){t.exports=a(249)},84:function(t,e,a){}},[[79,2,1]]]);
//# sourceMappingURL=main.5848ceac.chunk.js.map